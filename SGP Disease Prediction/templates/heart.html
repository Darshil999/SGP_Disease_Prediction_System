{% extends 'base.html' %}

{% block content %}

<button id="dark-mode-toggle" class="btn btn-secondary">Toggle Dark Mode</button>
<div class="container mt-5">
    <div class="card shadow-lg border-0">
        <div class="card-header bg-success text-white text-center">
            <h1>Heart Disease Predictor</h1>
            <p class="lead">Please fill out the form below to receive your prediction.</p>
        </div>
        <div class="card-body">
            <form method="POST" action="{% url 'heart_disease_predict' %}">
                {% csrf_token %}
                
                <div class="row mb-3">
                    <div class="col-md-6">
                        <label for="age" class="form-label">Age</label>
                        <input type='number' class="form-control" id="age" placeholder="Enter Age" name="age" required>
                    </div>
                    <div class="col-md-6">
                        <label for="sex" class="form-label">Sex</label>
                        <select class="form-select" id="sex" name="sex " required>
                            <option value="0">Male</option>
                            <option value="1">Female</option>
                        </select>
                    </div>
                </div>

                <div class="row mb-3">
                    <div class="col-md-6">
                        <label for="cp" class="form-label">Chest Pain</label>
                        <input type='number' class="form-control" id="cp" placeholder="Enter Chest Pain" name="cp" required>
                    </div>
                    <div class="col-md-6">
                        <label for="trestbps" class="form-label">Testing Blood Pressure</label>
                        <input type="number" class="form-control" id="trestbps" placeholder="Enter Testing Blood Pressure" name="trestbps" required>
                    </div>
                </div>

                <div class="row mb-3">
                    <div class="col-md-6">
                        <label for="chol" class="form-label">Cholesterol</label>
                        <input type='number' class="form-control" id="chol" placeholder="Enter Cholesterol" name="chol" required>
                    </div>
                    <div class="col-md-6">
                        <label for="fbs" class="form-label">Fasting Blood Sugar</label>
                        <input type="number" class="form-control" id="fbs" placeholder="Enter Fasting Blood Sugar" name="fbs" required>
                    </div>
                </div>

                <div class="row mb-3">
                    <div class="col-md-6">
                        <label for="restecg" class="form-label">Resting Electrocardiographic Results</label>
                        <input type='number' class="form-control" id="restecg" placeholder="Enter Resting ECG" name="restecg" required>
                    </div>
                    <div class="col-md-6">
                        <label for="thalach" class="form-label">Max Heart Rate Achieved</label>
                        <input type="number" class="form-control" id="thalach" placeholder="Enter Max Heart Rate" name="thalach" required>
                    </div>
                </div>

                <div class="row mb-3">
                    <div class="col-md-6">
                        <label for="exang" class="form-label">Exercise Induced Angina</label>
                        <input type='number' class="form-control" id="exang" placeholder="Enter Exang" name="exang" required>
                    </div>
                    <div class="col-md-6">
                        <label for="oldpeak" class="form-label">St Depression During Exercise</label>
                        <input type="text" class="form-control" id="oldpeak" placeholder="Enter Oldpeak" name="oldpeak" required>
                    </div>
                </div>

                <div class="row mb-4">
                    <div class="col-md-4">
                        <label for="slope" class="form-label">Slope of Peak Exercise</label>
                        <input type='number' class="form-control" id="slope" placeholder="Enter Slope" name="slope" required>
                    </div>
                    <div class="col-md-4">
                        <label for="ca" class="form-label">Number of Blocked Vessels</label>
                        <input type="number" class="form-control" id="ca" placeholder="Enter Blocked Vessels" name="ca" required>
                    </div>
                    <div class="col-md-4">
                        <label for="thal" class="form-label">Thalassemia</label>
                        <input type="number" class="form-control" id="thal" placeholder="Enter Thalassemia" name="thal" required>
                    </div>
                </div>

                <button class="btn btn-success btn-lg btn-block" type="submit" >Submit</button>
            </form>
        </div>
        <div class="card-footer text-center text-muted">
            <small>Your health is our priority.</small>
        </div>
    </div>
</div>

<style>
    body {
        background-color: #f8f9fa; /* Light gray background */
    }
    .form-control:focus {
        border-color: #28a745; /* Green border on focus */
        box-shadow: 0 0 5px rgba(40, 167, 69, 0.5); /* Glow effect */
    }
    .btn-success {
        transition: background-color 0.3s, transform 0.3s; /* Smooth transition */
    }
    .btn-success:hover {
        background-color: #218838; /* Darker green */
        transform: scale(1.05); /* Slightly larger on hover */
    }
    .card {
        border-radius: 10px; /* Rounded corners */
    }

/* Dark Mode Styling */
body.dark-mode {
    background-color: #2E2E2E;
    color: #F5F6FA;
}

.dark-mode .card {
    background-color: #3E3E3E;
    color: #F5F6FA;
}

.dark-mode .list-group-item {
    background-color: #3E3E3E;
    color: #F5F6FA;
}

.dark-mode .btn {
    color: white;
}

/* Dark Mode Toggle Button */
#dark-mode-toggle {
    position: fixed;
    top: 10px;
    right: 10px;
    z-index: 10;
}
</style>

<script>
    // Check local storage for dark mode preference
    if (localStorage.getItem('darkMode') === 'true') {
        document.body.classList.add('dark-mode');
    }

    // Dark Mode Toggle Script
    document.getElementById('dark-mode-toggle').addEventListener('click', function() {
        document.body.classList.toggle('dark-mode');
        // Save the preference to local storage
        localStorage.setItem('darkMode', document.body.classList.contains('dark-mode'));
    });
</script>
{% endblock %}
